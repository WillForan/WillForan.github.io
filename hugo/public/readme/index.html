<!DOCTYPE html>
<html>
  <head>
    <title>readme: static generator python wrapping org-mode</title>
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
    <link rel="alternate" type="application/rss+xml" title="WFLOG RSS Feed" href="index.xml" />
    <link rel="shortcut icon" href="https://secure.gravatar.com/avatar/3fed911ae9175eaf6c4e4ec51de7e6ac?size=125">
  </head>
  <body style="max-width: 40em">

    <h1 style="font-size:bigger">readme: static generator python wrapping org-mode</h1>
    <div class="content">
      
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
What
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>This is a repo to generate html for github pages from org mode files. </p>
<p>
The file you are reading is both the readme and an individual &#34;report&#34; (linked into <code>reports/</code>) accessible from the generated index.</p>
<div id="outline-container-headline-2" class="outline-3">
<h3 id="headline-2">
Motivation
</h3>
<div id="outline-text-headline-2" class="outline-text-3">
<ul>
<li>Org-mode babel is the coolest thing!</li>
<li>I have a lot of git repos for one off experiments.</li>
<li>I don&#39;t know how to make literate programming work for me</li>
</ul>
<p>If I make it easy to export org-babel, I can use it to reduce friction on one off projects and test out ways to implement literate programming</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-3" class="outline-2">
<h2 id="headline-3">
Notes
</h2>
<div id="outline-text-headline-3" class="outline-text-2">
<div id="outline-container-headline-4" class="outline-3">
<h3 id="headline-4">
Usage
</h3>
<div id="outline-text-headline-4" class="outline-text-3">
<p>run <code>make</code> to read through <code>reports/*.org</code> and export to <code>html/</code></p>
<div id="outline-container-headline-5" class="outline-4">
<h4 id="headline-5">
this file
</h4>
<div id="outline-text-headline-5" class="outline-text-4">
<p>run tangle from <code>reports/</code> directory not top level. relative links work much better there.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-6" class="outline-3">
<h3 id="headline-6">
org mode
</h3>
<div id="outline-text-headline-6" class="outline-text-3">
<ul>
<li><code>#+OPTIONS: _:{} ^:{}</code> so <code>_</code> doesn&#39;t subscript. Can still use <code>_{}</code> like<sub>this</sub></li>
<li><code>#+OPTIONS: toc:nil num:nil</code> to remove table of contents and header numbering</li>
<li><code>C-c C-e # html</code> for an org-&gt;html template</li>
<li><code>C-c .</code> to insert the date</li>
<li><code>C-c C-v t</code> to tangle files from source blocks with <code>:tangel file</code> in the header</li>
</ul>
</div>
</div>
<div id="outline-container-headline-7" class="outline-3">
<h3 id="headline-7">
Todos
</h3>
<div id="outline-text-headline-7" class="outline-text-3">
<ul>
<li>add tangled file and link from <code>src_blocks</code> a la <a href="https://stackoverflow.com/questions/38857751/show-tangled-file-name-in-org-mode-code-block-export">this</a> stack overflow QA.</li>
<li>code highlighting</li>
<li>add a todo/idea page</li>
<li>use <code>file_df.mt</code> and <code>file_df.date</code> to annotate updated pages. maybe use creation time to make sure it wasn&#39;t just the file-system that was updated</li>
</ul>
</div>
</div>
<div id="outline-container-headline-8" class="outline-3">
<h3 id="headline-8">
Aside
</h3>
<div id="outline-text-headline-8" class="outline-text-3">
<p>The small python script — <code>make_index.py</code> — made within this document could be replaced by a <code>Makefile</code> and a few bash/perl/python one liners.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-9" class="outline-2">
<h2 id="headline-9">
Code 
</h2>
<div id="outline-text-headline-9" class="outline-text-2">
<p>The python and html template code to export org-files and render <code>index.html</code> is all tangled within this org file.</p>
<p>
 This is awkward. For this document to be meaningful, it is the only way these files should be edited.</p>
<div id="outline-container-headline-10" class="outline-3">
<h3 id="headline-10">
find title and date
</h3>
<div id="outline-text-headline-10" class="outline-text-3">
<ul>
<li>date can be in the file as <code>#+DATE:.*yyyy-mm-dd</code> or could be the modification time of the file</li>
<li>title <code>#+TITLE:.*</code> or the name of the file</li>
<li>we want to (re-)export files that have an out-of-date export file, so keep modification time info of source org file</li>
</ul>
</div>
</div>
<div id="outline-container-headline-11" class="outline-3">
<h3 id="headline-11">
find all pages
</h3>
<div id="outline-text-headline-11" class="outline-text-3">
<p>We&#39;re creating a py file in <code>../src</code>, but running this from an org file in the directory we expect all the files to already be in.
  <code>../reports</code> will work for a file launched in either location. All is lost if we run the code outside of the directory it lives.</p>
<p>
 We use the function above to pull out info on the file</p>
<div class="src src-python">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>tabulate(file_df<span style="color:#f92672">.</span>head(n<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>),headers<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;keys&#34;</span>, tablefmt<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;orgtbl&#34;</span>,showindex<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)</span></span></code></pre></div>
</div>
<table>
<thead>
<tr>
<th>f</th>
<th>mt</th>
<th>title</th>
<th>date</th>
</tr>
</thead>
<tbody>
<tr>
<td>cgi-startuptime.org</td>
<td>2022-04-04 16:34:06.432610</td>
<td>cgi-bin and interpreter startup time</td>
<td>2021-10-22</td>
</tr>
<tr>
<td>risk.org</td>
<td>2021-10-22 21:26:10.164202</td>
<td>risk</td>
<td>2020-04-04</td>
</tr>
<tr>
<td>gopher.org</td>
<td>2021-10-22 21:26:10.163202</td>
<td>gopher</td>
<td>2019-03-15</td>
</tr>
<tr>
<td>netflix.org</td>
<td>2021-10-22 21:26:10.163202</td>
<td>Netflix Usage</td>
<td>2017-12-09</td>
</tr>
<tr>
<td>strava.org</td>
<td>2021-10-22 21:26:10.164202</td>
<td>Strava Tracked Workouts</td>
<td>2017-12-09</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-headline-12" class="outline-3">
<h3 id="headline-12">
export pages 
</h3>
<div id="outline-text-headline-12" class="outline-text-3">
<p>
This is a weird place to be. This text (and code) is written using org-mode within emacs. 
The actual instructions are run inside python.  </p>
<p>
We need to use python to get back into an emacs lisp environment to export to html.</p>
<p>
Conveniently, there&#39;s a tool for this: <a href="https://github.com/nhoffman/org-export">org-export</a>!</p>
<div class="src src-bash">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>org-export html --infile xxx.org --outfile yyy.html --bootstrap</span></span></code></pre></div>
</div>
<p>
So from python, we&#39;ll call a bash script that runs emacs. 
Meanwhile, the instructions to do all of this are written in emacs. Literate programming is hard.</p>
<div id="outline-container-headline-13" class="outline-4">
<h4 id="headline-13">
bonuses
</h4>
<div id="outline-text-headline-13" class="outline-text-4">
<ul>
<li>include css (<code>--bootstrap</code>) without much work</li>
<li>have more control in the name of the final output html file (<code>--outname</code>).</li>
</ul>
</div>
</div>
<div id="outline-container-headline-14" class="outline-4">
<h4 id="headline-14">
org-export configuration
</h4>
<div id="outline-text-headline-14" class="outline-text-4">
<p>By default <code>org-export</code> builds <code>ess</code> and <code>org</code> from git. This was failing. 
    I removed these two from <code>org-export-html.el:cli-el-get-setup</code></p>
</div>
</div>
<div id="outline-container-headline-15" class="outline-4">
<h4 id="headline-15">
DIY Make target list
</h4>
<div id="outline-text-headline-15" class="outline-text-4">
<p>Makefile could (should) figure out what needs to be exported.
    But we already have modification times. So we can compare those to the output targets to see which needs to be (re)run.</p>
</div>
</div>
<div id="outline-container-headline-16" class="outline-4">
<h4 id="headline-16">
quick look
</h4>
<div id="outline-text-headline-16" class="outline-text-4">
<p>TODO: add this to script with something like DRYRUN</p>
<div class="src src-python">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> tabulate <span style="color:#f92672">import</span> tabulate
</span></span><span style="display:flex;"><span>tabulate(need_update[[<span style="color:#e6db74">&#39;title&#39;</span>,<span style="color:#e6db74">&#39;export_date&#39;</span>,<span style="color:#e6db74">&#39;mt&#39;</span>]],headers<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;keys&#34;</span>, tablefmt<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;orgtbl&#34;</span>,showindex<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)</span></span></code></pre></div>
</div>
<table>
<thead>
<tr>
<th>title</th>
<th>export_date</th>
<th>mt</th>
</tr>
</thead>
<tbody>
<tr>
<td>readme: static generator python wrapping org-mode</td>
<td>2022-04-04 17:19:55.509670</td>
<td>2022-04-04 21:36:50.713842</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-headline-17" class="outline-4">
<h4 id="headline-17">
Actually run
</h4>
</div>
</div>
</div>
<div id="outline-container-headline-18" class="outline-3">
<h3 id="headline-18">
create the index 
</h3>
<div id="outline-text-headline-18" class="outline-text-3">
<p>The index page links to all the exported org files.</p>
<div id="outline-container-headline-19" class="outline-4">
<h4 id="headline-19">
Template
</h4>
<div id="outline-text-headline-19" class="outline-text-4">
<p>We&#39;ll use a template engine — <a href="https://bitbucket.org/akorn/wheezy.template">wheezy.template</a> because it was linked <a href="https://wiki.python.org/moin/Templating">here</a> — to wrap generate the index page.</p>
<div class="src src-html">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>@require(file_df,title)
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">html</span>&gt; &lt;<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">title</span>&gt;@title&lt;/<span style="color:#f92672">title</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">link</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;stylesheet&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/css&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;style.css&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">link</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alternate&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;application/rss+xml&#34;</span> <span style="color:#a6e22e">title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;WFLOG RSS Feed&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;rss.xml&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">link</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;shortcut icon&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://secure.gravatar.com/avatar/3fed911ae9175eaf6c4e4ec51de7e6ac?size=125&#34;</span>&gt;
</span></span><span style="display:flex;"><span> &lt;/<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span> &lt;<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>   &lt;<span style="color:#f92672">h1</span>&gt;External&lt;/<span style="color:#f92672">h1</span>&gt;
</span></span><span style="display:flex;"><span>   &lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;info&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">li</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://github.com/WillForan&#34;</span>&gt;Github&lt;/<span style="color:#f92672">a</span>&gt;&lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">li</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://stackoverflow.com/users/1031776/will&#34;</span>&gt;StackOverflow&lt;/<span style="color:#f92672">a</span>&gt;&lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">li</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://scholar.google.com/citations?user=PzX6F5oAAAAJ&#34;</span>&gt;GoogleScholar&lt;/<span style="color:#f92672">a</span>&gt;&lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">li</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://www.strava.com/athletes/15036420&#34;</span>&gt;Strava&lt;/<span style="color:#f92672">a</span>&gt;&lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">li</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://www.swrd.trade&#34;</span>&gt;SWRD&lt;/<span style="color:#f92672">a</span>&gt;&lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>   &lt;/<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>   &lt;<span style="color:#f92672">h1</span>&gt;@title&lt;/<span style="color:#f92672">h1</span>&gt;
</span></span><span style="display:flex;"><span>   Also in &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;gopher://www.xn--4-cmb.com&#34;</span>&gt;gopher space&lt;/<span style="color:#f92672">a</span>&gt;
</span></span><span style="display:flex;"><span>   &lt;<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>   @for i,f in file_df.iterrows():
</span></span><span style="display:flex;"><span>       &lt;<span style="color:#f92672">li</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;@f[&#39;uri&#39;]&#34;</span>&gt;&lt;<span style="color:#f92672">time</span>&gt;@f[&#39;date&#39;]&lt;/<span style="color:#f92672">time</span>&gt; @f[&#39;title&#39;]&lt;/<span style="color:#f92672">a</span>&gt;&lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>   @end
</span></span><span style="display:flex;"><span>   &lt;/<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span> &lt;/<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">html</span>&gt;</span></span></code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-20" class="outline-4">
<h4 id="headline-20">
Styling
</h4>
<div id="outline-text-headline-20" class="outline-text-4">
<p>setup minimal styling. </p>
<ul>
<li><a href="https://brutalist-web.design/">https://brutalist-web.design/</a> says always have underlines. so added those back in but colored them lighter (20230122)</li>
<li><a href="https://www.swyx.io/css-100-bytes">https://www.swyx.io/css-100-bytes</a> is inspiration for centering</li>
<li><a href="https://pitt.edu/~foran">https://pitt.edu/~foran</a> had my gravatar. picked that up</li>
</ul>
</div>
</div>
<div id="outline-container-headline-21" class="outline-4">
<h4 id="headline-21">
Populate
</h4>
</div>
</div>
</div>
<div id="outline-container-headline-22" class="outline-3">
<h3 id="headline-22">
Gopher
</h3>
<div id="outline-text-headline-22" class="outline-text-3">
<p>This was done by another script or by hand somewhere since lost. Tracked here (readme.org) in 20220404</p>
<div id="outline-container-headline-23" class="outline-4">
<h4 id="headline-23">
Template
</h4>
<div id="outline-text-headline-23" class="outline-text-4">
<p>Like html, we&#39;re using wheezy.template but there&#39;s a lot less ceremony.</p>
<p>
    Links look like <code>[0|$desc|$link|server|70]</code></p>
<div class="src src-html">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>@require(file_df)
</span></span><span style="display:flex;"><span>WF log
</span></span><span style="display:flex;"><span>@for i,f in file_df.iterrows():
</span></span><span style="display:flex;"><span>[0|@f[&#39;date&#39;] - @f[&#39;title&#39;]|@f[&#39;uri&#39;]|server|70]
</span></span><span style="display:flex;"><span>@end</span></span></code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-24" class="outline-4">
<h4 id="headline-24">
Populate
</h4>
<div id="outline-text-headline-24" class="outline-text-4">
<p>We&#39;re not doing any processing or exporting. Gopher text files will be the same as org source but named .txt instead. ln here but rsync to the gopher server will copy as files.</p>
</div>
</div>
<div id="outline-container-headline-25" class="outline-4">
<h4 id="headline-25">
Inspecting
</h4>
<div id="outline-text-headline-25" class="outline-text-4">
<p>Here&#39;s what we&#39;ll be linking</p>
<div class="src src-python">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>tabulate(gopher_df, headers<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;keys&#34;</span>, tablefmt<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;orgtbl&#34;</span>,showindex<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)</span></span></code></pre></div>
</div>
<table>
<thead>
<tr>
<th>f</th>
<th>title</th>
<th>date</th>
<th>ln_to</th>
<th>need_ln</th>
</tr>
</thead>
<tbody>
<tr>
<td>cgi-startuptime.org</td>
<td>cgi-bin and interpreter startup time</td>
<td>2021-10-22</td>
<td>../gopher/cgi-startuptime.txt</td>
<td>False</td>
</tr>
<tr>
<td>risk.org</td>
<td>risk</td>
<td>2020-04-04</td>
<td>../gopher/risk.txt</td>
<td>False</td>
</tr>
<tr>
<td>gopher.org</td>
<td>gopher</td>
<td>2019-03-15</td>
<td>../gopher/gopher.txt</td>
<td>False</td>
</tr>
<tr>
<td>netflix.org</td>
<td>Netflix Usage</td>
<td>2017-12-09</td>
<td>../gopher/netflix.txt</td>
<td>False</td>
</tr>
<tr>
<td>strava.org</td>
<td>Strava Tracked Workouts</td>
<td>2017-12-09</td>
<td>../gopher/strava.txt</td>
<td>False</td>
</tr>
<tr>
<td>climbingWallSPA.org</td>
<td>Climbing Wall Route Annotation SPA</td>
<td>2017-11-19</td>
<td>../gopher/climbingWallSPA.txt</td>
<td>False</td>
</tr>
<tr>
<td>readme.org</td>
<td>readme: static generator python wrapping org-mode</td>
<td>2017-11-18</td>
<td>../gopher/readme.txt</td>
<td>False</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-headline-26" class="outline-4">
<h4 id="headline-26">
Commit to files
</h4>
</div>
</div>
</div>
<div id="outline-container-headline-27" class="outline-3">
<h3 id="headline-27">
RSS
</h3>
<div id="outline-text-headline-27" class="outline-text-3">
<div id="outline-container-headline-28" class="outline-4">
<h4 id="headline-28">
template
</h4>
<div id="outline-text-headline-28" class="outline-text-4">
<p>The template is easy enough. needs title, url, desc, date, and cdata encoded html</p>
<div class="src src-xml">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>@require(time,rss_df)
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;rss</span> <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;2.0&#34;</span> <span style="color:#a6e22e">xmlns:content=</span><span style="color:#e6db74">&#34;http://purl.org/rss/1.0/modules/content/&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;channel&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;title&gt;</span>WFLOG<span style="color:#f92672">&lt;/title&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;link&gt;</span>www.xn--cmb.com<span style="color:#f92672">&lt;/link&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;description&gt;&lt;/description&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;lastBuildDate&gt;</span>@time<span style="color:#f92672">&lt;/lastBuildDate&gt;</span>
</span></span><span style="display:flex;"><span>@for i,f in rss_df.iterrows():
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;item&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;title&gt;</span>@f[&#39;title&#39;]<span style="color:#f92672">&lt;/title&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;link&gt;</span>@f[&#39;link&#39;]<span style="color:#f92672">&lt;/link&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;description&gt;</span>@f[&#39;desc&#39;]<span style="color:#f92672">&lt;/description&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;pubDate&gt;</span>@f[&#39;rss_date&#39;]<span style="color:#f92672">&lt;/pubDate&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;content:encoded&gt;</span><span style="color:#75715e">&lt;![CDATA[ @f[&#39;cdata&#39;] ]]&gt;</span><span style="color:#f92672">&lt;/content:encoded&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;dc:creator&gt;</span>Will Foran<span style="color:#f92672">&lt;/dc:creator&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/item&gt;</span>
</span></span><span style="display:flex;"><span>@end
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/channel&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/rss&gt;</span></span></span></code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-29" class="outline-4">
<h4 id="headline-29">
arrange data
</h4>
<div id="outline-text-headline-29" class="outline-text-4">
<p>need to pull in all the html body. also want date like <code>Mon, 04 Apr 2022 15:22:29 -0400</code></p>
</div>
</div>
<div id="outline-container-headline-30" class="outline-4">
<h4 id="headline-30">
write
</h4>
<div id="outline-text-headline-30" class="outline-text-4">
<p>we should limit the feed to just the most recent files. Though it&#39;s unlikely there will ever be enough text to warrent it.</p>
</div>
</div>
</div>
</div>
</div>
</div>

      
    </div>
</body>
</html>
